name: Build

on:
    push:
        branches: [ v1.7-Testing ]

jobs:
    Build:
        if: ${{ github.actor != 'dependabot[bot]' }}
        runs-on: windows-latest
        steps:
            - name: Checkout
              uses: actions/checkout@v4.2.2
                          
            - name: Setup NuGet.exe for use with actions
              uses: NuGet/setup-nuget@v2.0.1
              with:
                nuget-version: 'latest'

            - name: setup-msbuild
              uses: microsoft/setup-msbuild@v2
        
            - name: Restore dependencies
              run: nuget restore

            - name: Build
              run: msbuild .\vivetool-gui\ViVeTool_GUI.vbproj" -t:Build -p:Configuration=Debug -p:Platform=x64

            - name: Release Artifact
              uses: actions/upload-artifact@v4
              with:
                name: Build
                path: .\vivetool-gui\bin\x64\Debug\
